{"version":3,"sources":["webpack:///./src/views/article/create.vue?dc01","webpack:///src/views/article/create.vue","webpack:///./src/views/article/create.vue?6d2c","webpack:///./src/views/article/create.vue","webpack:///./src/views/article/create.vue?39ec"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","placeholder","clearable","model","value","articleForm","callback","$$v","$set","expression","display","align-items","type","rows","align","span","_l","item","index","directives","name","rawName","key","label","multiple","min","max","controls-position","on","change","handleChange","meta","action","show-file-list","accept","limit","before-upload","beforeThumbUpload","class","hover","thumbImgHover","mouseenter","$event","mouseleave","src","thumb","click","stopPropagation","thumbVisible","handleThumbRemove","_e","visible","update:visible","text-align","max-width","height","alt","handleSubmit","staticRenderFns","createvue_type_script_lang_js_","data","articleTypes","js_data","articleTags","title","desc","author","tag","state","publish","content","views","likes","dislikes","comments","cos","computed","created","mounted","destroyed","methods","fileObj","file","size","$message","warning","concat","URL","createObjectURL","_this","checkArticle","$store","dispatch","then","res","success","result","cos_js_sdk_v5_default","a","getAuthorization","options","TmpSecretId","credentials","tmpSecretId","TmpSecretKey","tmpSecretKey","XCosSecurityToken","sessionToken","ExpiredTime","expiredTime","thumbParams","Bucket","bucket","Region","region","Key","dir","Date","getTime","split","putObject","StorageClass","Body","onProgress","progressData","err","console","log","Location","handlePostArticle","_this2","setTimeout","$router","push","path","error","msg","trim","length","components","tinymce","Tinymce","article_createvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_create_vue_vue_type_style_index_0_id_03f0e3bd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_create_vue_vue_type_style_index_0_id_03f0e3bd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-28370fb1.f0710d0d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create\"},[_c('div',{staticClass:\"v-container\"},[_c('div',{staticClass:\"v-header\"},[_c('el-row',[_c('span',[_vm._v(\"标题：\")]),_c('el-input',{staticStyle:{\"width\":\"81.8%\"},attrs:{\"placeholder\":\"请输入标题\",\"clearable\":\"\"},model:{value:(_vm.articleForm.title),callback:function ($$v) {_vm.$set(_vm.articleForm, \"title\", $$v)},expression:\"articleForm.title\"}})],1),_c('el-row',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('span',[_vm._v(\"描述：\")]),_c('el-input',{staticStyle:{\"width\":\"81.8%\"},attrs:{\"placeholder\":\"请输入描述\",\"type\":\"textarea\",\"rows\":2,\"clearable\":\"\"},model:{value:(_vm.articleForm.desc),callback:function ($$v) {_vm.$set(_vm.articleForm, \"desc\", $$v)},expression:\"articleForm.desc\"}})],1),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"作者：\")]),_c('el-input',{staticStyle:{\"width\":\"75%\"},attrs:{\"placeholder\":\"请输入作者\",\"clearable\":\"\"},model:{value:(_vm.articleForm.author),callback:function ($$v) {_vm.$set(_vm.articleForm, \"author\", $$v)},expression:\"articleForm.author\"}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"分类：\")]),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择文章类别\"},model:{value:(_vm.articleForm.type),callback:function ($$v) {_vm.$set(_vm.articleForm, \"type\", $$v)},expression:\"articleForm.type\"}},_vm._l((_vm.articleTypes),function(item,index){return _c('el-option',{directives:[{name:\"show\",rawName:\"v-show\",value:(index !== 0),expression:\"index !== 0\"}],key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":13}},[_c('span',[_vm._v(\"标签：\")]),_c('el-select',{staticStyle:{\"width\":\"90%\"},attrs:{\"multiple\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择文章标签\"},model:{value:(_vm.articleForm.tag),callback:function ($$v) {_vm.$set(_vm.articleForm, \"tag\", $$v)},expression:\"articleForm.tag\"}},_vm._l((_vm.articleTags),function(item){return _c('el-option',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.value !== '0'),expression:\"item.value !== '0'\"}],key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"文章状态：\")]),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.articleForm.state),callback:function ($$v) {_vm.$set(_vm.articleForm, \"state\", $$v)},expression:\"articleForm.state\"}},[_vm._v(\"发布\")]),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.articleForm.state),callback:function ($$v) {_vm.$set(_vm.articleForm, \"state\", $$v)},expression:\"articleForm.state\"}},[_vm._v(\"草稿\")])],1),_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"是否公开：\")]),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.articleForm.publish),callback:function ($$v) {_vm.$set(_vm.articleForm, \"publish\", $$v)},expression:\"articleForm.publish\"}},[_vm._v(\"公开\")]),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.articleForm.publish),callback:function ($$v) {_vm.$set(_vm.articleForm, \"publish\", $$v)},expression:\"articleForm.publish\"}},[_vm._v(\"私密\")])],1),_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"点赞数：\")]),_c('el-input-number',{attrs:{\"min\":0,\"max\":100000000,\"label\":\"请输入点赞数\",\"controls-position\":\"right\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.articleForm.meta.likes),callback:function ($$v) {_vm.$set(_vm.articleForm.meta, \"likes\", $$v)},expression:\"articleForm.meta.likes\"}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"吐槽数：\")]),_c('el-input-number',{attrs:{\"min\":0,\"max\":100000000,\"label\":\"请输入吐槽数\",\"controls-position\":\"right\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.articleForm.meta.dislikes),callback:function ($$v) {_vm.$set(_vm.articleForm.meta, \"dislikes\", $$v)},expression:\"articleForm.meta.dislikes\"}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"浏览数：\")]),_c('el-input-number',{attrs:{\"min\":0,\"max\":100000000,\"label\":\"请输入浏览数\",\"controls-position\":\"right\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.articleForm.meta.views),callback:function ($$v) {_vm.$set(_vm.articleForm.meta, \"views\", $$v)},expression:\"articleForm.meta.views\"}})],1)],1),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"},attrs:{\"span\":12}},[_c('span',[_vm._v(\"缩略图：\")]),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"accept\":\".jpg, .jpeg, .png\",\"limit\":1,\"before-upload\":_vm.beforeThumbUpload}},[(_vm.articleForm.thumb)?_c('div',{class:['avatar-box',{'hover': _vm.thumbImgHover}],on:{\"mouseenter\":function($event){_vm.thumbImgHover = true},\"mouseleave\":function($event){_vm.thumbImgHover = false}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.articleForm.thumb}}),(_vm.thumbImgHover)?_c('div',{staticClass:\"imgHoverBtns\"},[_c('i',{staticClass:\"el-icon-zoom-in\",on:{\"click\":function($event){$event.stopPropagation();_vm.thumbVisible=true}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleThumbRemove($event)}}})]):_vm._e()]):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('ul',{staticClass:\"upload-tip\"},[_c('li',[_vm._v(\"每次只能上传1张图片。\")]),_c('li',[_vm._v(\"每张图片大小不超过 200kb。\")]),_c('li',[_vm._v(\"文件必须是 jpg 、png 或 jpeg 格式的图片。\")])]),_c('el-dialog',{attrs:{\"visible\":_vm.thumbVisible,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.thumbVisible=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{staticStyle:{\"display\":\"inline-block\",\"width\":\"auto\",\"max-width\":\"100%\",\"height\":\"600px\"},attrs:{\"src\":_vm.articleForm.thumb,\"alt\":\"\"}})])])],1)],1)],1),_c('div',{staticClass:\"v-body\"},[_c('el-row',[_c('tinymce',{attrs:{\"height\":460},model:{value:(_vm.articleForm.content),callback:function ($$v) {_vm.$set(_vm.articleForm, \"content\", $$v)},expression:\"articleForm.content\"}})],1)],1),_c('div',{staticClass:\"v-footer\"},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"保存\")])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"create\">\r\n    <div class=\"v-container\">\r\n      <div class=\"v-header\">\r\n        <el-row> <span>标题：</span><el-input placeholder=\"请输入标题\" v-model=\"articleForm.title\" clearable style=\"width: 81.8%;\"> </el-input> </el-row>\r\n        <el-row style=\"display:flex;align-items:center;\"> <span>描述：</span><el-input placeholder=\"请输入描述\" v-model=\"articleForm.desc\" type=\"textarea\" :rows=\"2\" clearable style=\"width: 81.8%;\"> </el-input> </el-row>\r\n        <el-row type=\"flex\" align=\"middle\">\r\n          <el-col :span=\"4\"> <span>作者：</span> <el-input placeholder=\"请输入作者\" v-model=\"articleForm.author\" clearable style=\"width: 75%;\"> </el-input> </el-col>\r\n          <el-col :span=\"4\">\r\n            <span>分类：</span>\r\n            <el-select v-model=\"articleForm.type\" clearable placeholder=\"请选择文章类别\">\r\n              <el-option\r\n                v-for=\"(item, index) in articleTypes\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n                v-show=\"index !== 0\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"13\">\r\n            <span>标签：</span>\r\n            <el-select v-model=\"articleForm.tag\" multiple clearable placeholder=\"请选择文章标签\" style=\"width: 90%;\">\r\n              <el-option\r\n                v-for=\"item in articleTags\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n                v-show=\"item.value !== '0'\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row type=\"flex\" align=\"middle\">\r\n         <el-col :span=\"4\">\r\n            <span>文章状态：</span>\r\n            <el-radio v-model=\"articleForm.state\" label=\"1\">发布</el-radio>\r\n            <el-radio v-model=\"articleForm.state\" label=\"2\">草稿</el-radio>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <span>是否公开：</span>\r\n            <el-radio v-model=\"articleForm.publish\" label=\"1\">公开</el-radio>\r\n            <el-radio v-model=\"articleForm.publish\" label=\"2\">私密</el-radio>\r\n          </el-col>\r\n          <el-col :span=\"4\"><span>点赞数：</span><el-input-number v-model=\"articleForm.meta.likes\" @change=\"handleChange\" :min=\"0\" :max=\"100000000\" label=\"请输入点赞数\" controls-position=\"right\" ></el-input-number> </el-col>\r\n          <el-col :span=\"4\"><span>吐槽数：</span><el-input-number v-model=\"articleForm.meta.dislikes\" @change=\"handleChange\" :min=\"0\" :max=\"100000000\" label=\"请输入吐槽数\" controls-position=\"right\" ></el-input-number> </el-col>\r\n          <el-col :span=\"4\"><span>浏览数：</span><el-input-number v-model=\"articleForm.meta.views\" @change=\"handleChange\" :min=\"0\" :max=\"100000000\" label=\"请输入浏览数\" controls-position=\"right\" ></el-input-number> </el-col>\r\n        </el-row>\r\n        <el-row type=\"flex\" align=\"middle\">\r\n          <el-col :span=\"12\" style=\"display:flex;align-items:center;\">\r\n            <span>缩略图：</span>\r\n            <!-- :on-success=\"handleThumbSuccess\" -->\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"\"\r\n              :show-file-list=\"false\"\r\n              accept=\".jpg, .jpeg, .png\"\r\n              :limit=\"1\"\r\n              :before-upload=\"beforeThumbUpload\">\r\n              <div v-if=\"articleForm.thumb\" :class=\"['avatar-box',{'hover': thumbImgHover}]\"\r\n                @mouseenter=\"thumbImgHover = true\"\r\n                @mouseleave=\"thumbImgHover = false\">\r\n                <img :src=\"articleForm.thumb\" class=\"avatar\">\r\n                <div v-if=\"thumbImgHover\" class=\"imgHoverBtns\">\r\n                  <i class=\"el-icon-zoom-in\" @click.stop=\"thumbVisible=true\"></i>\r\n                  <i class=\"el-icon-delete\" @click.stop=\"handleThumbRemove\"></i>\r\n                </div>\r\n              </div>\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n            <ul class=\"upload-tip\">\r\n              <li>每次只能上传1张图片。</li>\r\n              <li>每张图片大小不超过 200kb。</li>\r\n              <li>文件必须是 jpg 、png 或 jpeg 格式的图片。</li>\r\n            </ul>\r\n            <el-dialog :visible.sync=\"thumbVisible\" width=\"35%\">\r\n              <div style=\"text-align: center;\">\r\n                <img :src=\"articleForm.thumb\" alt=\"\" style=\"display: inline-block;width: auto;max-width: 100%;height: 600px;\">\r\n              </div>\r\n            </el-dialog>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <div class=\"v-body\">\r\n        <el-row>\r\n          <tinymce v-model=\"articleForm.content\" :height=\"460\"></tinymce>\r\n        </el-row>\r\n      </div>\r\n      <div class=\"v-footer\">\r\n        <el-row>\r\n          <!-- <el-button type=\"success\" @click=\"handleSubmit(2)\">草稿</el-button> -->\r\n          <el-button type=\"primary\" @click=\"handleSubmit\">保存</el-button>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import tinymce from '@/components/Tinymce'\r\n  import data from '@/assets/js/data'\r\n  import COS from 'cos-js-sdk-v5'\r\n  export default {\r\n    name: 'create',\r\n    data(){\r\n      let articleTypes = data.articleTypes\r\n      let articleTags = data.articleTags\r\n      return {\r\n        articleTypes,\r\n        articleTags,\r\n        articleForm: {\r\n          title: '',\r\n          desc: '',\r\n          author: 'admin',\r\n          type: '',\r\n          tag: [],\r\n          state: '1',\r\n          publish: '1',\r\n          content: '',\r\n          meta: {\r\n            views: 0,\r\n            likes: 0,\r\n            dislikes: 0,\r\n            comments: 0\r\n          },\r\n          thumb: ''\r\n        },\r\n        cos: null,\r\n        // fileObj: null,\r\n        // thumbImgUrl: '', // 头像路径\r\n        thumbVisible: false, // 预览图片弹窗\r\n        thumbImgHover: false\r\n      }\r\n    },\r\n    computed: {\r\n    },\r\n    created(){\r\n      // let cos = new COS({\r\n      //   secretId: 'AKIDoW3yABjRWWO5n5D8qLQ1ScnmyvZ0arLb',\r\n      //   secretKey: 'CD0sUt3A4jAAwSlxyrUqcBIF3iFdQ6Zv',\r\n      // })\r\n      // 获取sts\r\n      // this.$store.dispatch('cos/getSts', {}).then(res => {\r\n      //     if(res.success){\r\n      //       let result = res.data\r\n      //       console.log(result)\r\n      //     }else{\r\n      //       console.log(res)\r\n      //     }\r\n      //   })\r\n    },\r\n    mounted(){},\r\n    destroyed(){},\r\n    methods: {\r\n      handleChange(){},\r\n      // handleThumbSuccess(res, file) {\r\n      //   this.imageUrl = URL.createObjectURL(file.raw)\r\n      // },\r\n      handleThumbRemove(){\r\n        // { Bucket: '', Region: '', Key: '' }\r\n        // this.cos.deleteObject(this.thumbParams, (err, data) => {\r\n        //   console.log(err || data)\r\n        //   let res = err || data\r\n        //   if(res.statusCode === 200 || res.statusCode === 204){\r\n        //     this.articleForm.thumb = ''\r\n        //     this.$message.success('成功删除预览图')\r\n        //   }else{\r\n        //     this.$message.error(res)\r\n        //   }\r\n        // })\r\n        this.articleForm.thumb = ''\r\n        this.fileObj = null\r\n      },\r\n      beforeThumbUpload(file) {\r\n        // console.log(file)\r\n        if(file.size > 200 * 1000){\r\n          this.$message.warning(`文件${file.name}太大，不能超过 200kb`)\r\n          return false\r\n        }\r\n        this.articleForm.thumb = URL.createObjectURL(file)\r\n        this.fileObj = file\r\n        return false // 加了return false组件的action就不会发起post请求了\r\n      },\r\n      handleSubmit(){\r\n        if(this.checkArticle()){\r\n          if(this.fileObj){\r\n            this.$store.dispatch('cos/getSts', {}).then(res => {\r\n              if(res.success){\r\n                let result = res.data\r\n                this.cos = new COS({ getAuthorization: (options, callback) => {\r\n                    callback({\r\n                      TmpSecretId: result.credentials.tmpSecretId,\r\n                      TmpSecretKey: result.credentials.tmpSecretKey,\r\n                      XCosSecurityToken: result.credentials.sessionToken,\r\n                      ExpiredTime: result.expiredTime\r\n                    })\r\n                  }\r\n                })\r\n                this.thumbParams = {\r\n                  Bucket: result.bucket,\r\n                  Region: result.region,\r\n                  Key: `/${result.dir}/${new Date().getTime()}.${this.fileObj.name.split('.')[1]}`\r\n                }\r\n                this.cos.putObject({\r\n                  Bucket: result.bucket,\r\n                  Region: result.region,\r\n                  Key: `/${result.dir}/${new Date().getTime()}.${this.fileObj.name.split('.')[1]}`,\r\n                  StorageClass: 'STANDARD',\r\n                  Body: this.fileObj, // 上传文件对象\r\n                  onProgress: (progressData) => {\r\n                      // console.log(JSON.stringify(progressData))\r\n                    }\r\n                  },\r\n                  (err, data) => {\r\n                    console.log(err || data)\r\n                    // console.log(data.Location)\r\n                    this.articleForm.thumb = 'https://' + data.Location\r\n                    this.handlePostArticle()\r\n                  })\r\n              }else{\r\n                console.log(res)\r\n              }\r\n            })\r\n          }else{\r\n            this.handlePostArticle()\r\n          }\r\n        }\r\n      },\r\n      handlePostArticle(){\r\n        this.$store.dispatch('article/postArticle', this.articleForm).then(res => {\r\n          if(res.success){\r\n            this.$message.success('发布成功！')\r\n            setTimeout(() => {\r\n              this.$router.push({ path: '/article/list' })\r\n            }, 500)\r\n          }else{\r\n            this.$message.error(res.msg)\r\n          }\r\n        })\r\n      },\r\n      checkArticle(){\r\n        if(!this.articleForm.title.trim()){\r\n          this.$message.error('请输入标题')\r\n          return false\r\n        }else if(!this.articleForm.desc.trim()){\r\n          this.$message.error('请输入描述')\r\n          return false\r\n        }else if(!this.articleForm.author.trim()){\r\n          this.$message.error('请输入作者')\r\n          return false\r\n        }else if(!this.articleForm.type){\r\n          this.$message.error('请选择文章类型')\r\n          return false\r\n        }else if(!this.articleForm.tag.length){\r\n          this.$message.error('请选择文章标签')\r\n          return false\r\n        }else if(typeof this.articleForm.meta.likes === 'undefined'){\r\n          this.$message.error('请输入点赞数')\r\n          return false\r\n        }else if(typeof this.articleForm.meta.dislikes === 'undefined'){\r\n          this.$message.error('请输入吐槽数')\r\n          return false\r\n        }else if(typeof this.articleForm.meta.views === 'undefined'){\r\n          this.$message.error('请输入浏览数')\r\n          return false\r\n        }else if(!this.articleForm.content.trim()){\r\n          this.$message.error('请输入文章内容')\r\n          return false\r\n        }else{\r\n          return true\r\n        }\r\n        // else if(!this.articleForm.thumb){\r\n        //   this.$message.error('请选中缩略图')\r\n        //   return false\r\n        // }\r\n      },\r\n    },\r\n    components: {\r\n      tinymce\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .create{\r\n    padding: 10px;\r\n    .v-container{\r\n      padding: 5px 10px;\r\n      background: #fff;\r\n      .el-row{\r\n        padding: 5px 0;\r\n        .avatar-uploader  {\r\n          /deep/ .el-upload{\r\n            border: 1px dashed #d9d9d9;\r\n            border-radius: 6px;\r\n            cursor: pointer;\r\n            position: relative;\r\n            overflow: hidden;\r\n            &:hover {\r\n              border-color: #409EFF;\r\n              &::after{\r\n                content: ' ';\r\n                position: absolute;\r\n                top:0;\r\n                left: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                z-index: 10;\r\n                background: rgba($color: #222, $alpha: .3)\r\n              }\r\n              .imgHoverBtns{\r\n                position: absolute;\r\n                top:0;\r\n                left: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                z-index: 11;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                i{\r\n                  color: #fff;\r\n                  font-size: 18px;\r\n                  padding: 0 4px;\r\n                }\r\n              }\r\n            }\r\n            .avatar-uploader-icon {\r\n              font-size: 28px;\r\n              color: #8c939d;\r\n              width: 178px;\r\n              height: 178px;\r\n              line-height: 178px;\r\n              text-align: center;\r\n            }\r\n            .avatar {\r\n              width: 178px;\r\n              height: 178px;\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        ul.upload-tip{\r\n          list-style-type: none;\r\n          margin: 0;\r\n          padding: 0 30px 0;\r\n          li{\r\n            line-height: 30px;\r\n          }\r\n        }\r\n      }\r\n      .v-footer{\r\n        text-align: right;\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=03f0e3bd&scoped=true&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&id=03f0e3bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03f0e3bd\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=03f0e3bd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=03f0e3bd&lang=scss&scoped=true&\""],"sourceRoot":""}